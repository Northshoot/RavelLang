streaming model Random(size):
    properties:
        durable=False
        reliable=False
        records = size

    schema:
        value = IntegerField()


controller RandomControllerEmbedded(random: Random):
    event random.arrived():
        s1 : str = "\"foo\""
        s2 = s1 + "lol"
        x : int32 = 7
        y = x + 5
        z = (x + 5 >= 0) or True
        q : int32
        if z:
            q = self.record.value
        else:
            q = self.record.value - 1
        self.record.value /= q + self.record.value


space EmbeddedSpace:
    platform:
        language = CLang
        templates=nrf52
        system = nrf52Platform.v12


    models:
        random=Random(size=10)
        frequency=Frequency(size=1)
        boor_error = BootError()

    controllers:
        rndcnt = RandomControllerEmbedded(random = random)

    sources:
        random = platform.source.random
